<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Mobile FPS</title>
<style>
html,body{margin:0;overflow:hidden;background:#111;color:white;font-family:Arial}
#ui{position:fixed;inset:0;pointer-events:none}
#crosshair{
 position:absolute;left:50%;top:50%;
 transform:translate(-50%,-50%);
 font-size:24px
}
.btn{
 position:absolute;width:80px;height:80px;
 border-radius:50%;background:rgba(255,255,255,0.15);
 text-align:center;line-height:80px;font-size:18px;
 pointer-events:auto;user-select:none
}
#fire{right:20px;bottom:40px}
#reload{right:120px;bottom:40px}
#joy{
 left:20px;bottom:40px;width:120px;height:120px;
 background:rgba(255,255,255,0.1)
}
</style>
</head>
<body>
<canvas id="c"></canvas>

<div id="ui">
  <div id="crosshair">+</div>
  <div id="joy" class="btn">MOVE</div>
  <div id="fire" class="btn">FIRE</div>
  <div id="reload" class="btn">R</div>
</div>

<script>
const canvas = c, ctx = canvas.getContext("2d");
resize(); window.onresize = resize;

let player = {x:0,z:0,rot:0,ammo:15};
let dummy = {x:0,z:-5,hp:100,hit:0};

function resize(){
 canvas.width=innerWidth;
 canvas.height=innerHeight;
}

function drawGrid(){
 ctx.strokeStyle="#222";
 for(let i=-20;i<=20;i++){
  ctx.beginPath();
  ctx.moveTo(canvas.width/2+i*40,0);
  ctx.lineTo(canvas.width/2+i*40,canvas.height);
  ctx.stroke();
 }
}

function drawGun(){
 ctx.fillStyle="#222";
 ctx.fillRect(canvas.width/2-60,canvas.height-120,120,80);
 ctx.fillStyle="#444";
 ctx.fillRect(canvas.width/2-30,canvas.height-150,60,30);
}

function drawDummy(){
 let dz = dummy.z - player.z;
 let size = 300/Math.abs(dz);
 let x = canvas.width/2 + dummy.hit*5;
 let y = canvas.height/2 - size/2;
 ctx.fillStyle="red";
 ctx.fillRect(x-size/4,y,size/2,size);
}

function shoot(){
 if(player.ammo<=0) return;
 player.ammo--;
 dummy.hp-=10;
 dummy.hit=5;
}

function reload(){
 setTimeout(()=>player.ammo=15,800);
}

fire.onclick=shoot;
reload.onclick=reload;

function loop(){
 ctx.clearRect(0,0,canvas.width,canvas.height);
 drawGrid();
 drawDummy();
 drawGun();
 dummy.hit*=0.9;
 requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>